!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).yourtargetlibname=t()}(this,function(){"use strict";function n(){var t={};return function(e,t,n){var r=new XMLHttpRequest;t.method=t.method||"GET",t.async=t.async===false?false:true,t.data=t.data||null,r.open(t.method,e,t.async),r.onload=function(){if(r.status===200){n&&n(JSON.parse(this.responseText))}else{console.error("Error occurred:"+this.statusText)}},r.send(t.data)}("/yuncai/ebvplogin",{method:"GET",async:!1},function(e){if(e.needrelogin)return null;r("_yc_userid",e.user.ucuserid),window.localStorage.setItem("user",JSON.stringify(e)),t=e}),t}function r(e,t){var n=new Date;n.setTime(n.getTime()+864e5),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()+";path=/"}function u(e){return new RegExp("(?:; )?"+e+"=([^;]*);?").test(document.cookie)?decodeURIComponent(RegExp.$1):null}function t(){var e=localStorage.getItem("user");if(e)return(t=JSON.parse(e)).user&&t.user.ucuserid==u("_yc_userid")||(t=n())?t.user:null;var t=null;return(t=n())?t.user:null}function o(){var e=localStorage.getItem("user");if(e)return(t=JSON.parse(e)).user&&t.user.ucuserid==u("_yc_userid")||(t=n())?t.enterprise:null;var t=null;return(t=n())?t.enterprise:null}return{getUserContext:t,getEnterPriseContext:o,setCookie:r,getCookie:u,isLand:function(){var e;return e=!!n(),e},getEnterpriseId:function(){var e=t();return e?e.enterpriseId:null},getEnterpriseName:function(){var e=t();return e?e.enterpriseName:null},getTenantId:function(){var e=o();return e?e.tenantid:null},getUserInfo:n}});
